--- oldjava-access-bridge-1.23.0/idlgen/Makefile.am	2008-06-03 02:47:29.000000000 -0400
+++ java-access-bridge-1.23.0/idlgen/Makefile.am	2008-07-31 15:13:26.000000000 -0400
@@ -3,7 +3,7 @@
 JARFILES=../gnome-java-bridge.jar ../$(EXTRA_JARFILES)
 CLASSES=$(wildcard org/GNOME/Bonobo/*.class org/GNOME/Accessibility/*.class)
 JAR=jar
-IDLJ_FLAGS=-emitAll $(IDLJ_IDLDIRS)
+IDLJ_FLAGS=-J-client -emitAll $(IDLJ_IDLDIRS)
 
 BONOBO_ACT_IDLFILES=$(wildcard $(BONOBO_ACT_IDLDIR)/*.idl)
 BONOBO_IDLFILES=$(wildcard $(BONOBO_IDLDIR)/*.idl)
--- oldjava-access-bridge-1.23.0/idlgen/Makefile.in	2008-06-23 23:34:59.000000000 -0400
+++ java-access-bridge-1.23.0/idlgen/Makefile.in	2008-07-31 15:13:45.000000000 -0400
@@ -1,8 +1,8 @@
-# Makefile.in generated by automake 1.10 from Makefile.am.
+# Makefile.in generated by automake 1.10.1 from Makefile.am.
 # @configure_input@
 
 # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
-# 2003, 2004, 2005, 2006  Free Software Foundation, Inc.
+# 2003, 2004, 2005, 2006, 2007, 2008  Free Software Foundation, Inc.
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
@@ -140,7 +140,7 @@
 SUBDIRS = org
 JARFILES = ../gnome-java-bridge.jar ../$(EXTRA_JARFILES)
 CLASSES = $(wildcard org/GNOME/Bonobo/*.class org/GNOME/Accessibility/*.class)
-IDLJ_FLAGS = -emitAll $(IDLJ_IDLDIRS)
+IDLJ_FLAGS = -J-client -emitAll $(IDLJ_IDLDIRS)
 BONOBO_ACT_IDLFILES = $(wildcard $(BONOBO_ACT_IDLDIR)/*.idl)
 BONOBO_IDLFILES = $(wildcard $(BONOBO_IDLDIR)/*.idl)
 AT_SPI_IDLFILES = $(wildcard $(AT_SPI_IDLDIR)/*.idl)
@@ -253,8 +253,8 @@
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '    { files[$$0] = 1; } \
-	       END { for (i in files) print i; }'`; \
+	  $(AWK) '{ files[$$0] = 1; nonemtpy = 1; } \
+	      END { if (nonempty) { for (i in files) print i; }; }'`; \
 	mkid -fID $$unique
 tags: TAGS
 
@@ -279,8 +279,8 @@
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '    { files[$$0] = 1; } \
-	       END { for (i in files) print i; }'`; \
+	  $(AWK) '{ files[$$0] = 1; nonempty = 1; } \
+	      END { if (nonempty) { for (i in files) print i; }; }'`; \
 	if test -z "$(ETAGS_ARGS)$$tags$$unique"; then :; else \
 	  test -n "$$unique" || unique=$$empty_fix; \
 	  $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \
@@ -290,13 +290,12 @@
 CTAGS: ctags-recursive $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
 		$(TAGS_FILES) $(LISP)
 	tags=; \
-	here=`pwd`; \
 	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
 	unique=`for i in $$list; do \
 	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
 	  done | \
-	  $(AWK) '    { files[$$0] = 1; } \
-	       END { for (i in files) print i; }'`; \
+	  $(AWK) '{ files[$$0] = 1; nonempty = 1; } \
+	      END { if (nonempty) { for (i in files) print i; }; }'`; \
 	test -z "$(CTAGS_ARGS)$$tags$$unique" \
 	  || $(CTAGS) $(CTAGSFLAGS) $(AM_CTAGSFLAGS) $(CTAGS_ARGS) \
 	     $$tags $$unique
